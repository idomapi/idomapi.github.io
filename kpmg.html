<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>kpmg</title>
    <script src="https://www.govmap.gov.il/govmap/api/govmap.api.js" defer onload="initGovMap()"></script>
    <script type="text/javascript">
        const layers = {
            blueLineJlm: {
                id: '216600',
                layerNumber: 3102020,
                fieldName: 'value7'
            },
            eshkolSharon: {
                id: '216602',
                layerNumber: 5102010,
                fieldName: 'value2'
            }
        }
        function initGovMap() {
                govmap.createMap('map', {
                    token: 'fe827829-8b7a-4ef6-85ed-3ae1caebaf64',
                    layers: [layers.eshkolSharon.id], // 216602
                    visibleLayers: [layers.eshkolSharon.id],
                    showXY: true,
                    identifyOnClick: true,
                    isEmbeddedToggle: false,
                    background: "0",
                    layersMode: 2,
                    zoomButtons:false,
                    onLoad: () => {
                        filter();
                    }
                });
            }

        function filter() {
            const params = {
                layerName: layers.eshkolSharon.id,
                whereClause: `internalid LIKE '${layers.eshkolSharon.fieldName || 22}%'`,
                zoomToExtent: true
            };
            govmap.filterLayers(params);
        }
    </script>
</head>

<body>
    <div id="map" style="width:850px;height:750px"></div>
</body>

</html>